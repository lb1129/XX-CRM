var Y=Object.defineProperty;var Z=(r,e,n)=>e in r?Y(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n;var X=(r,e,n)=>(Z(r,typeof e!="symbol"?e+"":e,n),n);import{aV as ee,k as W,as as ne,r as I,K as R,n as U,l as v,q as T,s as w,t as V,ar as z,m as J,i as ae,w as te,y as ue,x as re,ae as le,a2 as oe,h as q,p as ie,ah as ce}from"./index-7f7a3af3.js";import{u as L}from"./index-6a9de69f.js";function de(r,e){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=ee(r))||e&&r&&typeof r.length=="number"){n&&(r=n);var t=0,l=function(){};return{s:l,n:function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}},e:function(d){throw d},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f=!0,p=!1,g;return{s:function(){n=n.call(r)},n:function(){var d=n.next();return f=d.done,d},e:function(d){p=!0,g=d},f:function(){try{!f&&n.return!=null&&n.return()}finally{if(p)throw g}}}}var se=["prefixCls","name","id","type","disabled","readonly","tabindex","autofocus","value","required"],fe={prefixCls:String,name:String,id:String,type:String,defaultChecked:{type:[Boolean,Number],default:void 0},checked:{type:[Boolean,Number],default:void 0},disabled:Boolean,tabindex:{type:[Number,String]},readonly:Boolean,autofocus:Boolean,value:z.any,required:Boolean};const ve=W({compatConfig:{MODE:3},name:"Checkbox",inheritAttrs:!1,props:ne(fe,{prefixCls:"rc-checkbox",type:"checkbox",defaultChecked:!1}),emits:["click","change"],setup:function(e,n){var t=n.attrs,l=n.emit,f=n.expose,p=I(e.checked===void 0?e.defaultChecked:e.checked),g=I();R(function(){return e.checked},function(){p.value=e.checked}),f({focus:function(){var u;(u=g.value)===null||u===void 0||u.focus()},blur:function(){var u;(u=g.value)===null||u===void 0||u.blur()}});var s=I(),d=function(u){if(!e.disabled){e.checked===void 0&&(p.value=u.target.checked),u.shiftKey=s.value;var k={target:v(v({},e),{},{checked:u.target.checked}),stopPropagation:function(){u.stopPropagation()},preventDefault:function(){u.preventDefault()},nativeEvent:u};e.checked!==void 0&&(g.value.checked=!!e.checked),l("change",k),s.value=!1}},x=function(u){l("click",u),s.value=u.shiftKey};return function(){var o,u=e.prefixCls,k=e.name,S=e.id,G=e.type,M=e.disabled,C=e.readonly,a=e.tabindex,i=e.autofocus,h=e.value,b=e.required,m=U(e,se),c=t.class,P=t.onFocus,A=t.onBlur,K=t.onKeydown,_=t.onKeypress,j=t.onKeyup,E=v(v({},m),t),y=Object.keys(E).reduce(function(O,B){return(B.substr(0,5)==="aria-"||B.substr(0,5)==="data-"||B==="role")&&(O[B]=E[B]),O},{}),N=T(u,c,(o={},w(o,"".concat(u,"-checked"),p.value),w(o,"".concat(u,"-disabled"),M),o)),D=v(v({name:k,id:S,type:G,readonly:C,disabled:M,tabindex:a,class:"".concat(u,"-input"),checked:!!p.value,autofocus:i,value:h},y),{},{onChange:d,onClick:x,onFocus:P,onBlur:A,onKeydown:K,onKeypress:_,onKeyup:j,required:b});return V("span",{class:N},[V("input",v({ref:g},D),null),V("span",{class:"".concat(u,"-inner")},null)])}}});var he=function(){return{name:String,prefixCls:String,options:{type:Array,default:function(){return[]}},disabled:Boolean,id:String}},be=function(){return v(v({},he()),{},{defaultValue:{type:Array},value:{type:Array},onChange:{type:Function},"onUpdate:value":{type:Function}})},me=function(){return{prefixCls:String,defaultChecked:{type:Boolean,default:void 0},checked:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},isGroup:{type:Boolean,default:void 0},value:z.any,name:String,id:String,indeterminate:{type:Boolean,default:void 0},type:{type:String,default:"checkbox"},autofocus:{type:Boolean,default:void 0},onChange:Function,"onUpdate:checked":Function,onClick:Function,skipGroup:{type:Boolean,default:!1}}},pe=function(){return v(v({},me()),{},{indeterminate:{type:Boolean,default:!1}})},Q=Symbol("CheckboxGroupContext"),ge=["indeterminate","skipGroup","id"],xe=["onMouseenter","onMouseleave","onInput","class","style"];const $=W({compatConfig:{MODE:3},name:"ACheckbox",inheritAttrs:!1,__ANT_CHECKBOX:!0,props:pe(),setup:function(e,n){var t=n.emit,l=n.attrs,f=n.slots,p=n.expose,g=L(),s=J("checkbox",e),d=s.prefixCls,x=s.direction,o=ae(Q,void 0),u=Symbol("checkboxUniId");te(function(){!e.skipGroup&&o&&o.registerValue(u,e.value)}),ue(function(){o&&o.cancelValue(u)}),re(function(){le(e.checked!==void 0||o||e.value===void 0,"Checkbox","`value` is not validate prop, do you mean `checked`?")});var k=function(a){var i=a.target.checked;t("update:checked",i),t("change",a)},S=I(),G=function(){var a;(a=S.value)===null||a===void 0||a.focus()},M=function(){var a;(a=S.value)===null||a===void 0||a.blur()};return p({focus:G,blur:M}),function(){var C,a,i=oe((C=f.default)===null||C===void 0?void 0:C.call(f)),h=e.indeterminate,b=e.skipGroup,m=e.id,c=m===void 0?g.id.value:m,P=U(e,ge),A=l.onMouseenter,K=l.onMouseleave;l.onInput;var _=l.class,j=l.style,E=U(l,xe),y=v(v({},P),{},{id:c,prefixCls:d.value},E);o&&!b?(y.onChange=function(){for(var O=arguments.length,B=new Array(O),F=0;F<O;F++)B[F]=arguments[F];t.apply(void 0,["change"].concat(B)),o.toggleOption({label:i,value:e.value})},y.name=o.name.value,y.checked=o.mergedValue.value.indexOf(e.value)!==-1,y.disabled=e.disabled||o.disabled.value,y.indeterminate=h):y.onChange=k;var N=T((a={},w(a,"".concat(d.value,"-wrapper"),!0),w(a,"".concat(d.value,"-rtl"),x.value==="rtl"),w(a,"".concat(d.value,"-wrapper-checked"),y.checked),w(a,"".concat(d.value,"-wrapper-disabled"),y.disabled),a),_),D=T(w({},"".concat(d.value,"-indeterminate"),h));return V("label",{class:N,style:j,onMouseenter:A,onMouseleave:K},[V(ve,v(v({},y),{},{class:D,ref:S}),null),i.length?V("span",null,[i]):null])}}}),H=W({compatConfig:{MODE:3},name:"ACheckboxGroup",props:be(),setup:function(e,n){var t=n.slots,l=n.emit,f=n.expose,p=L(),g=J("checkbox",e),s=g.prefixCls,d=g.direction,x=I((e.value===void 0?e.defaultValue:e.value)||[]);R(function(){return e.value},function(){x.value=e.value||[]});var o=q(function(){return e.options.map(function(a){return typeof a=="string"||typeof a=="number"?{label:a,value:a}:a})}),u=I(Symbol()),k=I(new Map),S=function(i){k.value.delete(i),u.value=Symbol()},G=function(i,h){k.value.set(i,h),u.value=Symbol()},M=I(new Map);R(u,function(){var a=new Map,i=de(k.value.values()),h;try{for(i.s();!(h=i.n()).done;){var b=h.value;a.set(b,!0)}}catch(m){i.e(m)}finally{i.f()}M.value=a});var C=function(i){var h=x.value.indexOf(i.value),b=ce(x.value);h===-1?b.push(i.value):b.splice(h,1),e.value===void 0&&(x.value=b);var m=b.filter(function(c){return M.value.has(c)}).sort(function(c,P){var A=o.value.findIndex(function(_){return _.value===c}),K=o.value.findIndex(function(_){return _.value===P});return A-K});l("update:value",m),l("change",m),p.onFieldChange()};return ie(Q,{cancelValue:S,registerValue:G,toggleOption:C,mergedValue:x,name:q(function(){return e.name}),disabled:q(function(){return e.disabled})}),f({mergedValue:x}),function(){var a,i=e.id,h=i===void 0?p.id.value:i,b=null,m="".concat(s.value,"-group");return o.value&&o.value.length>0&&(b=o.value.map(function(c){var P;return V($,{prefixCls:s.value,key:c.value.toString(),disabled:"disabled"in c?c.disabled:e.disabled,indeterminate:c.indeterminate,value:c.value,checked:x.value.indexOf(c.value)!==-1,onChange:c.onChange,class:"".concat(m,"-item")},{default:function(){return[c.label===void 0?(P=t.label)===null||P===void 0?void 0:P.call(t,c):c.label]}})})),V("div",{class:[m,w({},"".concat(m,"-rtl"),d.value==="rtl")],id:h},[b||((a=t.default)===null||a===void 0?void 0:a.call(t))])}}});$.Group=H;$.install=function(r){return r.component($.name,$),r.component(H.name,H),r};class ye{constructor(){X(this,"store");this.store=new Map}on(e,n,t){const l={handler:n,once:!!t};if(this.store.has(e)){const f=this.store.get(e);f==null||f.push(l)}else this.store.set(e,[l])}off(e,n){if(this.store.has(e)){const t=this.store.get(e),l=t==null?void 0:t.findIndex(f=>f.handler===n);(l||l===0)&&(t==null||t.splice(l,1))}}emit(e,...n){if(this.store.has(e)){const t=this.store.get(e);t==null||t.forEach(l=>{l.handler(...n),l.once&&this.off(e,l.handler)})}}once(e,n){this.on(e,n,!0)}}const Ce=ye,Be=new Ce,we=Symbol("productEditDone");export{$ as C,ve as V,we as a,Be as p};
