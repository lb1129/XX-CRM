import{s as $,t as h,r as k,P as N,M as D,S as L,m as b,v as B,x as M,y as o,o as S,z as e,A as l,B as m,T as z,U as F,V as P,W as R,X as x,_ as C}from"./index-d947ed2c.js";import{_ as T,F as V}from"./index-d7426d9b.js";import"./index-c7da8ad1.js";import{B as q}from"./index-e424d871.js";import{I as A,_ as E}from"./index-39e555a7.js";import O from"./Layout-18788c72.js";import H from"./UserOutlined-c2664dec.js";import W from"./LockOutlined-11de69c3.js";import"./mockjs-1791cf1e.js";import"./responsiveObserve-05f879ef.js";import"./styleChecker-5c477410.js";import"./useSize-4d1416e6.js";import"./ResizeObserver.es-0f9f8adb.js";import"./EyeOutlined-5c6996a4.js";import"./EyeInvisibleOutlined-394e7a3a.js";import"./index-a168fc81.js";import"./index.vue_vue_type_script_setup_true_lang-26dbc6b6.js";/* empty css              */import"./index-d72b9d83.js";const X=$({__name:"Login",setup(j){const s=h({userName:"",password:""}),n=k(!1),c=N(),{t:d}=D(),f=L(),p=b(),g=async()=>{n.value=!0;try{const t=await z(s);await F.set(t.data);const a=await P(),u=await R();p.setMenuData(u.data),p.setMenuDataDone(!0),f.setUserInfo(a.data),await c.replace({name:"Home"}),setTimeout(()=>{x.success({message:d("welcome"),description:a.data.userName})},200),n.value=!1}catch{n.value=!1}};return(t,a)=>{const u=H,v=A,r=T,w=W,y=E,_=B("router-link"),I=q,U=V;return S(),M(O,null,{default:o(()=>[e(U,{model:s,onFinish:g},{default:o(()=>[e(r,{name:"userName",rules:[{required:!0,message:t.$t("pleaseEnterAccount")}]},{default:o(()=>[e(v,{size:"large",placeholder:t.$t("account")+"admin/viho/user",value:s.userName,"onUpdate:value":a[0]||(a[0]=i=>s.userName=i)},{prefix:o(()=>[e(u,{class:"icon"})]),_:1},8,["placeholder","value"])]),_:1},8,["rules"]),e(r,{name:"password",rules:[{required:!0,message:t.$t("pleaseEnterPassword")}]},{default:o(()=>[e(y,{size:"large",placeholder:t.$t("password")+"a123456",value:s.password,"onUpdate:value":a[1]||(a[1]=i=>s.password=i)},{prefix:o(()=>[e(w,{class:"icon"})]),_:1},8,["placeholder","value"])]),_:1},8,["rules"]),e(r,null,{default:o(()=>[e(_,{to:{name:"Register"}},{default:o(()=>[l(m(t.$t("signUp")),1)]),_:1}),e(_,{style:{float:"right"},to:{name:"FindPassword"}},{default:o(()=>[l(m(t.$t("forgotPassword")),1)]),_:1})]),_:1}),e(r,null,{default:o(()=>[e(I,{size:"large",block:"",loading:n.value,type:"primary","html-type":"submit"},{default:o(()=>[l(m(t.$t("login")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})}}});const ce=C(X,[["__scopeId","data-v-5f5de7b6"]]);export{ce as default};
