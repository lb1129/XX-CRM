import{_ as ve,S as ye}from"./index-e36c1f21.js";import{t as n,s as j,i as be,r as O,a2 as ue,az as _e,aA as Se,aB as ge,l as _,al as M,k as q,m as Ce,aC as xe,ac as de,y as he,p as we,aD as le,h as Pe,X as $e,a8 as ke,A as De,G as je,x as Be,ar as Ie,M as oe,N as d,u as N,o as G,O as g,P as C,g as Ae,aE as Oe}from"./index-9a9dea24.js";import"./index-418a499e.js";/* empty css              */import{c as Ee}from"./index-516dbfe4.js";import"./index-5ba09711.js";import{B as Le}from"./index-68eb0c53.js";import{a as Ne,_ as Re}from"./index-a49242fa.js";import{u as Me,o as ze}from"./useAuth-5e18e978.js";import{p as ae,a as re,g as Te}from"./events-8055e61b.js";import{R as se,r as ie}from"./responsiveObserve-8826d52d.js";import"./ArrowLeftOutlined-7cbc2235.js";import"./mockjs-725317a4.js";import"./ArrowRightOutlined-47b574ae.js";import"./useDestroyed-194a8e31.js";import"./useSize-26445c7c.js";import"./index-9678b618.js";import"./raf-8f666c46.js";import"./RightOutlined-c94e739b.js";import"./index-904930ae.js";import"./Overflow-187acd9e.js";import"./ResizeObserver.es-0f9f8adb.js";import"./css-06fbc100.js";import"./useMergedState-eb50c019.js";import"./DialogWrap-53abc7cb.js";import"./pickAttrs-42e5daec.js";import"./objectDestructuringEmpty-23eaae80.js";import"./RotateLeftOutlined-881c6ddb.js";import"./RotateRightOutlined-feec692d.js";import"./ZoomInOutlined-d339d0a0.js";import"./ZoomOutOutlined-9dbbecb0.js";import"./EyeOutlined-99b55777.js";function R(r){return r!=null}var Ue=function(e){var t=e.itemPrefixCls,l=e.component,s=e.span,o=e.labelStyle,c=e.contentStyle,p=e.bordered,i=e.label,u=e.content,a=e.colon,S=l;if(p){var f;return n(S,{class:[(f={},j(f,"".concat(t,"-item-label"),R(i)),j(f,"".concat(t,"-item-content"),R(u)),f)],colSpan:s},{default:function(){return[R(i)&&n("span",{style:o},[i]),R(u)&&n("span",{style:c},[u])]}})}return n(S,{class:["".concat(t,"-item")],colSpan:s},{default:function(){return[n("div",{class:"".concat(t,"-item-container")},[i&&n("span",{class:["".concat(t,"-item-label"),j({},"".concat(t,"-item-no-colon"),!a)],style:o},[i]),u&&n("span",{class:"".concat(t,"-item-content"),style:c},[u])])]}})};const X=Ue;var Fe=function(e){var t=function(f,m,v){var x=m.colon,h=m.prefixCls,w=m.bordered,P=v.component,E=v.type,z=v.showLabel,L=v.showContent,$=v.labelStyle,B=v.contentStyle;return f.map(function(y,I){var k,A,b=y.props||{},H=b.prefixCls,T=H===void 0?h:H,J=b.span,K=J===void 0?1:J,Q=b.labelStyle,W=Q===void 0?b["label-style"]:Q,Y=b.contentStyle,Z=Y===void 0?b["content-style"]:Y,ee=b.label,te=ee===void 0?(k=y.children)===null||k===void 0||(A=k.label)===null||A===void 0?void 0:A.call(k):ee,ne=_e(y),U=Se(y),F=ge(y),V=y.key;return typeof P=="string"?n(X,{key:"".concat(E,"-").concat(String(V)||I),class:U,style:F,labelStyle:_(_({},$),W),contentStyle:_(_({},B),Z),span:K,colon:x,component:P,itemPrefixCls:T,bordered:w,label:z?te:null,content:L?ne:null},null):[n(X,{key:"label-".concat(String(V)||I),class:U,style:_(_(_({},$),F),W),span:1,colon:x,component:P[0],itemPrefixCls:T,bordered:w,label:te},null),n(X,{key:"content-".concat(String(V)||I),class:U,style:_(_(_({},B),F),Z),span:K*2-1,component:P[1],itemPrefixCls:T,bordered:w,content:ne},null)]})},l=e.prefixCls,s=e.vertical,o=e.row,c=e.index,p=e.bordered,i=be(fe,{labelStyle:O({}),contentStyle:O({})}),u=i.labelStyle,a=i.contentStyle;return s?n(ue,null,[n("tr",{key:"label-".concat(c),class:"".concat(l,"-row")},[t(o,e,{component:"th",type:"label",showLabel:!0,labelStyle:u.value,contentStyle:a.value})]),n("tr",{key:"content-".concat(c),class:"".concat(l,"-row")},[t(o,e,{component:"td",type:"content",showContent:!0,labelStyle:u.value,contentStyle:a.value})])]):n("tr",{key:c,class:"".concat(l,"-row")},[t(o,e,{component:p?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0,labelStyle:u.value,contentStyle:a.value})])};const Ve=Fe;M.any;var Ge=function(){return{prefixCls:String,label:M.any,labelStyle:{type:Object,default:void 0},contentStyle:{type:Object,default:void 0},span:{type:Number,default:1}}},pe=q({compatConfig:{MODE:3},name:"ADescriptionsItem",props:Ge(),slots:["label"],setup:function(e,t){var l=t.slots;return function(){var s;return(s=l.default)===null||s===void 0?void 0:s.call(l)}}}),me={xxxl:3,xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function Xe(r,e){if(typeof r=="number")return r;if(de(r)==="object")for(var t=0;t<ie.length;t++){var l=ie[t];if(e[l]&&r[l]!==void 0)return r[l]||me[l]}return 3}function ce(r,e,t){var l=r;return(e===void 0||e>t)&&(l=Ee(r,{span:t}),ke(e===void 0,"Descriptions","Sum of column `span` in a line not match `column` of Descriptions.")),l}function qe(r,e){var t=$e(r),l=[],s=[],o=e;return t.forEach(function(c,p){var i,u=(i=c.props)===null||i===void 0?void 0:i.span,a=u||1;if(p===t.length-1){s.push(ce(c,u,o)),l.push(s);return}a<o?(o-=a,s.push(c)):(s.push(ce(c,a,o)),l.push(s),o=e,s=[])}),l}var He=function(){return{prefixCls:String,bordered:{type:Boolean,default:void 0},size:{type:String,default:"default"},title:M.any,extra:M.any,column:{type:[Number,Object],default:function(){return me}},layout:String,colon:{type:Boolean,default:void 0},labelStyle:{type:Object,default:void 0},contentStyle:{type:Object,default:void 0}}},fe=Symbol("descriptionsContext"),D=q({compatConfig:{MODE:3},name:"ADescriptions",props:He(),slots:["title","extra"],Item:pe,setup:function(e,t){var l=t.slots,s=Ce("descriptions",e),o=s.prefixCls,c=s.direction,p,i=O({});xe(function(){p=se.subscribe(function(a){de(e.column)==="object"&&(i.value=a)})}),he(function(){se.unsubscribe(p)}),we(fe,{labelStyle:le(e,"labelStyle"),contentStyle:le(e,"contentStyle")});var u=Pe(function(){return Xe(e.column,i.value)});return function(){var a,S,f,m,v=e.size,x=e.bordered,h=x===void 0?!1:x,w=e.layout,P=w===void 0?"horizontal":w,E=e.colon,z=E===void 0?!0:E,L=e.title,$=L===void 0?(a=l.title)===null||a===void 0?void 0:a.call(l):L,B=e.extra,y=B===void 0?(S=l.extra)===null||S===void 0?void 0:S.call(l):B,I=(f=l.default)===null||f===void 0?void 0:f.call(l),k=qe(I,u.value);return n("div",{class:[o.value,(m={},j(m,"".concat(o.value,"-").concat(v),v!=="default"),j(m,"".concat(o.value,"-bordered"),!!h),j(m,"".concat(o.value,"-rtl"),c.value==="rtl"),m)]},[($||y)&&n("div",{class:"".concat(o.value,"-header")},[$&&n("div",{class:"".concat(o.value,"-title")},[$]),y&&n("div",{class:"".concat(o.value,"-extra")},[y])]),n("div",{class:"".concat(o.value,"-view")},[n("table",null,[n("tbody",null,[k.map(function(A,b){return n(Ve,{key:b,index:b,colon:z,prefixCls:o.value,vertical:P==="vertical",bordered:h,row:A},null)})])])])])}}});D.install=function(r){return r.component(D.name,D),r.component(D.Item.name,D.Item),r};const Je=D;const kt=q({__name:"ProductDetail",setup(r){const e=O(!1),t=O({name:"",brand:"",category:"",price:0,color:"",style:"",enable:!0,inventory:0,describe:"",images:[]}),{operateAuth:l}=Me(),s=De(),{t:o}=je(),c=async()=>{if(s.params.id){e.value=!0;try{const p=await Te(s.params.id);t.value=p.data,e.value=!1}catch{e.value=!1}}};return Be(()=>{c(),ae.on(re,c)}),Ie(()=>{ae.off(re,c)}),(p,i)=>{const u=Le,a=pe,S=Re,f=Ne,m=Je,v=ye,x=ve;return G(),oe(x,{title:N(o)("detail"),onBack:i[1]||(i[1]=()=>p.$router.back())},{extra:d(()=>[n(u,{type:"primary",disabled:N(ze)(N(l).edit),onClick:i[0]||(i[0]=()=>{p.$router.push({name:"ProductAddOrEdit",params:{id:t.value._id}})})},{default:d(()=>[g(C(N(o)("edit")),1)]),_:1},8,["disabled"])]),default:d(()=>[n(v,{loading:e.value},{default:d(()=>[n(m,{bordered:""},{default:d(()=>[n(a,{label:"名称"},{default:d(()=>[g(C(t.value.name),1)]),_:1}),n(a,{label:"品牌"},{default:d(()=>[g(C(t.value.brand),1)]),_:1}),n(a,{label:"分类"},{default:d(()=>[g(C(t.value.category),1)]),_:1}),n(a,{label:"价格"},{default:d(()=>[g(C(t.value.price),1)]),_:1}),n(a,{label:"颜色"},{default:d(()=>[g(C(t.value.color),1)]),_:1}),n(a,{label:"库存"},{default:d(()=>[g(C(t.value.inventory),1)]),_:1}),n(a,{label:"样式",span:3},{default:d(()=>[g(C(t.value.style),1)]),_:1}),n(a,{label:"描述",span:3},{default:d(()=>[g(C(t.value.describe),1)]),_:1}),n(a,{label:"图片",span:3},{default:d(()=>[n(f,null,{default:d(()=>[(G(!0),Ae(ue,null,Oe(t.value.images,h=>(G(),oe(S,{width:104,height:104,key:h,src:h},null,8,["src"]))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["loading"])]),_:1},8,["title"])}}});export{kt as default};
