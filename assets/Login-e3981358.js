import{k as S,P as U,r as $,O as h,N as L,a7 as B,B as R,Q as D,R as F,S as o,o as P,t as e,T as m,U as u,am as b,an as z,ao as C,ap as M,Y as N,_ as O}from"./index-7f7a3af3.js";import{_ as T,F as q}from"./index-4a77fbfb.js";import"./index-7e223be4.js";import{B as x}from"./index-1ca0eb95.js";import{I as E}from"./index-6a9de69f.js";import V from"./Layout-aa7cba31.js";import A from"./UserOutlined-1ff0a07e.js";import H from"./LockOutlined-cfaccd2d.js";import{_ as Q}from"./Password-0e111290.js";import"./responsiveObserve-b6c74e19.js";import"./styleChecker-d4e83f02.js";import"./useSize-215d9284.js";import"./ResizeObserver.es-0f9f8adb.js";import"./raf-8f666c46.js";import"./RightOutlined-40a3f1bf.js";import"./index-57389472.js";import"./index.vue_vue_type_script_setup_true_lang-a05ac6d0.js";import"./index-5c04d490.js";import"./index-20d43a42.js";import"./index-5343b3f5.js";import"./Overflow-81a4b264.js";/* empty css              */import"./index-fdfe731f.js";import"./EyeOutlined-7a8e2891.js";import"./EyeInvisibleOutlined-17655ce0.js";const Y=S({__name:"Login",setup(j){const s=U({username:"",password:""}),n=$(!1),_=h(),{t:c}=L(),d=B(),f=R(),g=async()=>{n.value=!0;try{const t=await b(s);await z.set(t.data);const a=await C(),i=await M();await _.replace({name:"Home"}),f.setMenuData(i.data),d.setUserInfo(a.data),setTimeout(()=>{N.success({message:c("welcome"),description:a.data.nickname})},200),n.value=!1}catch{n.value=!1}};return(t,a)=>{const i=A,v=E,r=T,w=H,y=Q,l=D("router-link"),k=x,I=q;return P(),F(V,null,{default:o(()=>[e(I,{model:s,onFinish:g},{default:o(()=>[e(r,{name:"username",rules:[{required:!0,message:t.$t("pleaseEnterAccount")}]},{default:o(()=>[e(v,{size:"large",placeholder:t.$t("account"),value:s.username,"onUpdate:value":a[0]||(a[0]=p=>s.username=p)},{prefix:o(()=>[e(i,{class:"icon"})]),_:1},8,["placeholder","value"])]),_:1},8,["rules"]),e(r,{name:"password",rules:[{required:!0,message:t.$t("pleaseEnterPassword")}]},{default:o(()=>[e(y,{size:"large",placeholder:t.$t("password"),value:s.password,"onUpdate:value":a[1]||(a[1]=p=>s.password=p)},{prefix:o(()=>[e(w,{class:"icon"})]),_:1},8,["placeholder","value"])]),_:1},8,["rules"]),e(r,null,{default:o(()=>[e(l,{to:{name:"Register"}},{default:o(()=>[m(u(t.$t("signUp")),1)]),_:1}),e(l,{style:{float:"right"},to:{name:"FindPassword"}},{default:o(()=>[m(u(t.$t("forgotPassword")),1)]),_:1})]),_:1}),e(r,null,{default:o(()=>[e(k,{size:"large",block:"",loading:n.value,type:"primary","html-type":"submit"},{default:o(()=>[m(u(t.$t("login")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})}}});const ye=O(Y,[["__scopeId","data-v-0198299d"]]);export{ye as default};
