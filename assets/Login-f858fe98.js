import{k as $,J as h,r as S,H as U,G as D,a1 as L,B,K as M,M as F,N as o,o as P,t as e,O as p,P as m,ag as R,ah as b,ai as z,aj as C,T as N,_ as O}from"./index-af5ecab8.js";import{_ as T,F as q}from"./index-5f211a90.js";import"./index-9109be09.js";import{B as x}from"./index-a41a201f.js";import{I as E}from"./index-f5a89c08.js";import H from"./Layout-7b150a5e.js";import V from"./UserOutlined-f8f30010.js";import j from"./LockOutlined-8a0d6c8d.js";import{_ as A}from"./Password-0654893a.js";import"./responsiveObserve-f8f9e35a.js";import"./styleChecker-de1a7c29.js";import"./useSize-ddbff4fb.js";import"./ResizeObserver.es-0f9f8adb.js";import"./raf-8f666c46.js";import"./RightOutlined-26397cdd.js";import"./index-8b8a096a.js";import"./index.vue_vue_type_script_setup_true_lang-a9f73387.js";import"./index-8f9e9744.js";import"./index-52b559e0.js";import"./index-453ebeb2.js";import"./Overflow-c76d8e57.js";/* empty css              */import"./index-d14d3c5c.js";import"./EyeOutlined-fc4cd4bb.js";import"./EyeInvisibleOutlined-b0ed3b2a.js";const G=$({__name:"Login",setup(J){const s=h({username:"",password:""}),n=S(!1),c=U(),{t:d}=D(),f=L(),l=B(),g=async()=>{n.value=!0;try{const t=await R(s);await b.set(t.data);const a=await z(),i=await C();l.setMenuData(i.data),l.setMenuDataDone(!0),f.setUserInfo(a.data),await c.replace({name:"Home"}),setTimeout(()=>{N.success({message:d("welcome"),description:a.data.nickname})},200),n.value=!1}catch{n.value=!1}};return(t,a)=>{const i=V,v=E,r=T,w=j,y=A,_=M("router-link"),k=x,I=q;return P(),F(H,null,{default:o(()=>[e(I,{model:s,onFinish:g},{default:o(()=>[e(r,{name:"username",rules:[{required:!0,message:t.$t("pleaseEnterAccount")}]},{default:o(()=>[e(v,{size:"large",placeholder:t.$t("account"),value:s.username,"onUpdate:value":a[0]||(a[0]=u=>s.username=u)},{prefix:o(()=>[e(i,{class:"icon"})]),_:1},8,["placeholder","value"])]),_:1},8,["rules"]),e(r,{name:"password",rules:[{required:!0,message:t.$t("pleaseEnterPassword")}]},{default:o(()=>[e(y,{size:"large",placeholder:t.$t("password"),value:s.password,"onUpdate:value":a[1]||(a[1]=u=>s.password=u)},{prefix:o(()=>[e(w,{class:"icon"})]),_:1},8,["placeholder","value"])]),_:1},8,["rules"]),e(r,null,{default:o(()=>[e(_,{to:{name:"Register"}},{default:o(()=>[p(m(t.$t("signUp")),1)]),_:1}),e(_,{style:{float:"right"},to:{name:"FindPassword"}},{default:o(()=>[p(m(t.$t("forgotPassword")),1)]),_:1})]),_:1}),e(r,null,{default:o(()=>[e(k,{size:"large",block:"",loading:n.value,type:"primary","html-type":"submit"},{default:o(()=>[p(m(t.$t("login")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})}}});const ye=O(G,[["__scopeId","data-v-a1e5901c"]]);export{ye as default};
